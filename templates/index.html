<form id="predict-form">

  <label>Carat</label>
  <input type="number" step="0.01" name="carat" required>

  <label>Clarity</label>
  <select name="clarity" required>
      <option value="SI1">SI1</option>
      <option value="VS2">VS2</option>
      <option value="SI2">SI2</option>
      <option value="VS1">VS1</option>
      <option value="VVS2">VVS2</option>
      <option value="VVS1">VVS1</option>
      <option value="IF">IF</option>
      <option value="I1">I1</option>
  </select>

  <label>Color</label>
  <select name="color" required>
      <option value="G">G</option>
      <option value="E">E</option>
      <option value="F">F</option>
      <option value="H">H</option>
      <option value="D">D</option>
      <option value="I">I</option>
      <option value="J">J</option>
  </select>

  <label>Cut</label>
  <select name="cut" required>
    <option value="Fair">Fair</option>
    <option value="Good">Good</option>
    <option value="Very Good">Very Good</option>
    <option value="Premium">Premium</option>
    <option value="Ideal">Ideal</option>
  </select>


  <label>Depth</label>
  <input type="number" step=0.01 name="depth" required>

  <label>Table</label>
  <input type="number" step=0.01 name="table" required>

  <label>X</label>
  <input type="number" step=0.01 name="x" required>

  <label>Y</label>
  <input type="number" step=0.01 name="y" required>


  <label>Z</label>
  <input type="number" step="0.01" name="z" required>

  <button type="submit">Execute</button>
</form>

<p id="result"></p>


<script>
document.getElementById("predict-form").addEventListener("submit", function(e) {
    e.preventDefault(); // sayfa yenilenmesin

    const formData = new FormData(this);

    const data = {
        carat: parseFloat(formData.get("carat")),
        cut: formData.get("cut"),
        color: formData.get("color"),
        clarity: formData.get("clarity"),
        depth: parseFloat(formData.get("depth")),
        table: parseFloat(formData.get("table") || 0),
        x: parseFloat(formData.get("x")),
        y: parseFloat(formData.get("y")),
        z: parseFloat(formData.get("z"))
    };

    fetch("/predict", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(result => {
        document.getElementById("result").innerText =
            "Diamond Price: " + Number(result.prediction).toFixed(3);
    })
    .catch(error => {
        document.getElementById("result").innerText =
            "Error occurred!";
    });
});
</script>